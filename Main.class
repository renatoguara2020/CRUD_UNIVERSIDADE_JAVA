package br.universidadejava.jpa.exemplo1.teste;

import java.util.Calendar;
import java.util.GregorianCalendar;
import br.universidadejava.jpa.exemplo1.dao.PessoaDAO;
import br.universidadejava.jpa.exemplo1.modelo.Pessoa;

/**
 * Classe utilizada para testar os m√©todos do PessoaDAO.
 */
public class PessoaDAOTeste {
  public static void main(String[] args) throws Exception {
    Pessoa pessoa = new Pessoa();
    pessoa.setNome("NATHAN BARBOSA SOARES");
    Calendar data = new GregorianCalendar();
    data.set(Calendar.YEAR, 1983);
    data.set(Calendar.MONTH, 11);
    data.set(Calendar.DAY_OF_MONTH, 26);
    pessoa.setDataNascimento(data.getTime());
    pessoa.setEmail("renatoguara2020@gmail.com");

    PessoaDAO dao = new PessoaDAO();
    System.out.println("Salvando a pessoa: " + pessoa.getNome());
    pessoa = dao.salvar(pessoa);

    pessoa.setNome("NATHANZINHO");
    pessoa = dao.salvar(pessoa);
    System.out.println("Alterando a pessoa: " + pessoa.getNome());

    Pessoa pessoa2 = dao.consultarPorId(pessoa.getId());
    System.out.println("Consultando: " + pessoa2.getNome());

    System.out.println("Removendo a pessoa: " + pessoa.getId());
    dao.excluir(pessoa.getId());
  }
}

###############################################################################

public class JPADemo
{
        public static void main(String[] args)
    {
                EntityManagerFactory emf = Persistence.createEntityManagerFactory("JPAPU");
                EntityManager em = emf.createEntityManager();
                 
                em.getTransaction().begin();
                Employee employee = new Employee();
                employee.setName("Chandan");
                System.out.println("COMIITING");
                em.persist(employee);
                em.getTransaction().commit();
                 
    }
}
